var twitters =
[
    '@feross',
    '@komalahmad786',
    '@akilian',
    '@philippabiddle',
    '@jasontheblock',
    '@sciguy14',
    '@bolotsky',
    '@badboyboyce',
    '@brennanjp',
    '@nambrot',
    '@jtdaugh',
    '@simeonduong',
    '@ediefeinstein',
    '@davefontenot',
    '@jonasgebhardt',
    '@__ishaan',
    '@zmh',
    '@nhanoian',
    '@aahitti',
    '@sohan_jain',
    '@cory',
    '@ajaymehta',
    '@tanay',
    '@hipotluck',
    '@ju1es_',
    '@marannelson',
    '@orbuch',
    '@dreidco',
    '@_tessr',
    '@richrines',
    '@VeronicaSaron',
    '@alexschiff',
    '@maxseiden',
    '@senkowm',
    '@zan2434',
    '@jebthomas',
    '@Adriennetran',
    '@rturumella',
    '@johnnyhvan',
    '@rjvir',
    '@stale2000',
    '@kathleen_warner',
    '@SebastienZany',
    '@zhangelaz',
    '@ingridavendano',
    '@arjunblj',
    '@taylor_atx',
    '@jeremyblalock',
    '@gwenbrin',
    '@alix2m',
    '@_danfriedman',
    '@mattgibstein',
    '@nevanhadfield',
    '@spiralstairs',
    '@nivivive',
    '@dskang',
    '@Vivekxk',
    '@ShivaKilaru',
    '@maxkolysh',
    '@conradev',
    '@andrewlinfoot',
    '@connormcewen',
    '@nickemeyer',
    '@jcbmllgn',
    '@ianpanchevre',
    '@chintanparikh94',
    '@kim617',
    '@jessepollak',
    '@its_ashworks',
    '@ryaneshea',
    '@NoorFSiddiqui',
    '@kt_seagull',
    '@maddiesimens',
    '@olvr_s',
    '@charliestigler',
    '@strandby',
    '@emmatangerine',
    '@invisibilya',
    '@AriX',
    '@kwong47',
    '@cindywu',
    '@WuNeal',
    '@sclarawu',
    '@frankjwu',
    '@imkevinxu',
    '@intenex',
    '@cathieyun',
    '@claredycats',
    '@harryzhang',
    '@imjaredz',
    '@ohnobackspace',
    '@connorzwick',
    '@daniel_alabi',
    '@troyastorino',
    '@shantanubala',
    '@chromatocosmos',
    '@andy_bromberg',
    '@ciaomack',
    '@_calvinc',
    '@theamycode',
    '@bcohen93',
    '@bricon5',
    '@mattebeweber',
    '@geraldgfong',
    '@zeteg',
    '@dget',
    '@lucy_guo',
    '@kylehardgrave',
    '@_stephanieyhe',
    '@hhorsley',
    '@kernio',
    '@hongkim91',
    '@christinahkim',
    '@_shilpikumar',
    '@maxwlamb',
    '@chriskelvinlee',
    '@emitter_coupled',
    '@samliu',
    '@setarehlotfi',
    '@girllovesrobots',
    '@ninajlu',
    '@lumich1',
    '@toddmedema',
    '@vasunadella',
    '@alanmni',
    '@gavino',
    '@ashpangeek',
    '@spnktn',
    '@viccypont',
    '@labibrahman',
    '@zaidrmn',
    '@tomasreimers',
    '@virajsinha',
    '@Sparkszilla',
    '@kurtontech',
    '@nvs',
    '@tsvi_tannin',
    '@eriktorenberg',
    '@arunalejandro',
    '@amaliowirth',
    '@nancychowmein',
    '@johnys',
    '@lintaho',
    '@ezhao',
    '@tzhongg',
    '@jackyalcine',
    '@jeffand_',
    '@m_arbesfeld',
    '@Yellzheard',
    '@Dipoareoye',
    '@turnerbohlen',
    '@tcburning',
    '@jungofthewon',
    '@michxchen',
    '@maeganclawges',
    '@davidad',
    '@jdecked',
    '@frostbitee08',
    '@jacquiddd',
    '@Josephrdouglas',
    '@dariaevdo',
    '@zoink',
    '@zfogg',
    '@kgibilterra',
    '@thedanigrant',
    '@shariq',
    '@amrithajayanti',
    '@hannah_kerner',
    '@zachlatta',
    '@byalicelee',
    '@ujooe',
    '@RafiLikeRuffy',
    '@fouadmatin',
    '@rockinbinbin',
    '@vickiniu',
    '@daraoke',
    '@evanpun',
    '@kanjun',
    '@justindross',
    '@rubinovitz',
    '@danrschlosser',
    '@marieschneegans',
    '@ankitshah',
    '@pericarus',
    '@jeffstefanis',
    '@jcstoy',
    '@ScooterTaylor',
    '@henlo____durian',
    '@emtseng',
    '@PameVls',
    '@cassidoo',
    '@raykyri',
    '@blackqueentech',
    '@uzoayo',
    '@nkbuduma',
    '@zrb_umd',
    '@c___v___d',
    '@Endingwithali',
    '@logangraham',
    '@gustafjt',
    '@akjags',
    '@josephwandile',
    '@riakall',
    '@arankhanna',
    '@KrauseFx',
    '@antimatter15',
    '@c_aria_l',
    '@aricianoo',
    '@iyorenoelle',
    '@AneeshPappu',
    '@valentin_pd',
    '@agentwaj',
    '@stephensowole',
    '@ebstockton',
    '@sthupukari',
    '@andrewurodov',
    '@evadoraz',
    '@get_sw1fty',
    '@ivanbeckley',
    '@suryabhupa',
    '@nbhorwitz',
    '@vincentsunnchen',
    '@georgeezenna',
    '@pgaooo',
    '@_KarenHao',
    '@nikke81395',
    '@avahuangg',
    '@marcinjachymiak',
    '@aayushjaiswal07',
    '@Mattyj612',
    '@jonahcallinback',
    '@_______lord',
    '@absoluttig',
    '@keenkenna',
    '@rpavuluri',
    '@brextonpham',
    '@mattpiccolella',
    '@jessicapointing',
    '@SPowazek',
    '@andylouisqin',
    '@katyanna_q',
    '@aviromanoff',
    '@__gcd',
    '@RohunSaxena',
    '@jshermcyber',
    '@qipaower',
    '@SarAnnWrap3',
    '@willium',
    '@luisan327',
    '@adorasv',
    '@kthomas901',
    '@sudotong',
    '@ilana_wb',
    '@bradr',
    '@jinglanW',
    '@biject',
    '@sedi_w',
    '@adaobiadibe_',
    '@jfalexanders',
    '@ctbeiser',
    '@emmabluemke',
    '@akshat_b',
    '@notsuperhan',
    '@acwervo',
    '@meganscui',
    '@arcurn',
    '@WillEssilfie',
    '@JoshFeldman14',
    '@_tonyfrancis',
    '@kvfrans',
    '@lucasgleba',
    '@LukeHarries_',
    '@PeterTheHe',
    '@carohermy',
    '@techgirlmagic',
    '@aparnalocked',
    '@clarelyle',
    '@WillManidis',
    '@AlexMasmej',
    '@aaronmayer108',
    '@fusorfusion',
    '@annarmitchell',
    '@aunyks',
    '@afikanyati',
    '@hoctopi',
    '@iparikh_',
    '@joannezpeng',
    '@antiroyalty__',
    '@cyberwitch666_',
    '@ctabrizi_',
    '@janellehmtam',
    '@melisatokmak',
    '@j_asminewang',
    '@xujennyc',
    '@keuanyang',
    '@Sarim__Abbas',
    '@korede_ta',
    '@lamaalrajih',
    '@not_dres',
    '@siranushbb',
    '@arsalanbashir',
    '@tanishabassan',
    '@cassidybereskin',
    '@serenabian1',
    '@supercgeek',
    '@einsteinunicorn',
    '@cruzisiah',
    '@Gospel_Official',
    '@LuciaDeschamps8',
    '@mus_akos',
    '@astroboticist',
    '@saraduit',
    '@melissadooo',
    '@KennedyEkezie',
    '@heylauragao',
    '@thegargiulian',
    '@eric_is_weird',
    '@JustinGlibert',
    '@rodneygoldd',
    '@AidanNGomez',
    '@iraphas13',
    '@ChocolateyCrepe',
    '@shohinigupta',
    '@AaronDHannon',
    '@raffi_hotter',
    '@b0ngled',
    '@saffronhuang',
    '@ciarafudgyjudgy',
    '@ktkadakia',
    '@JackKleeman',
    '@medhakothari',
    '@snarkyzk',
    '@hannah_1e',
    '@nikulyalee',
    '@h_a_r_r_i_s_o_n',
    '@Dave_Liu_Here',
    '@jennyliuzhang',
    '@lumar_isa',
    '@abdxl_m',
    '@thehelenmayer',
    '@sararahmcb',
    '@melamed_adi',
    '@hheathermurphyy',
    '@obaiam11',
    '@olayinkaos',
    '@CatOrman1',
    '@bxmani',
    '@TheAndiPenguin',
    '@jehronp',
    '@noahapicard',
    '@JimmyJQian',
    '@ankitr_',
    '@tiagosada',
    '@sh_reya',
    '@selynnasun',
    '@SaveTheEarthYo',
    '@udotonge',
    '@ecjwg',
    '@ethanjweber',
    '@nwilliams030',
    '@_tamarawinter',
    '@wutania',
    '@thescottxiao',
    '@jasonyuandesign',
    '@anthonyjz17',
    '@tomthecarrot',
    '@jajoosam',
    '@chris_kuang',
    '@mslkmp',
    '@MfundoRadebe',
    '@sdaitzman',
    '@nathanju34',
    '@tdkayode',
    '@trishprabhu',
    '@alexnbriand',
    '@tiwaaina',
    '@sosanyo',
    '@charlesxjyang',
    '@jasminericegirl',
    '@abigaillafrica',
    '@gaby_goldberg',
    '@noah_putnam',
    '@omiraclx',
    '@deborah__i',
    '@JeremyLuzinda',
    '@ahmb84',
    '@ianclim',
    '@a__bra',
    '@JulianRiosCantu',
    '@harshdubey49',
    '@byannazhang',
    '@itschrispainter',
    '@jtannady',
    '@juliyendavis',
    '@aquariusacquah',
    '@thesephist',
    '@michschwartzman',
    '@sofianeflarbi',
    '@sunnya97',
    '@WendiYan5',
    '@rSanti97',
    '@Rebecca_Mqamelo',
    '@thecatfangs',
    '@realioffe',
    '@hotemogf',
    '@mackenziedion3',
    '@tateberenbaum',
    '@phoebexyao',
    '@jasminewsun',
    '@jessicadai_',
    '@LilaShroff',
    '@adam__bn',
    '@a_nnawang',
    '@imigliu',
    '@benhylak',
    '@emilyinthebay',
    '@emilyiszhong',
    '@johnmcelhone8',
    '@brianjychan',
    '@mollyfmielke',
    '@shreyanj98',
    '@simonguozirui',
    '@pet3rpan_',
    '@tinaaaaalee',
    '@kourabi77',
    '@abenaanim21',
    '@alishbaimran_',
    '@bonniesjli',
    '@kipperrii',
    '@daviderady',
    '@seyonec',
    '@shreydjain13',
    '@winniethexu',
    '@_jzhao',
    '@RM_Wang',
    '@igarciacamargo',
    '@joininteract'
]

function isMatch(element) {
    var text = element.innerText;
    return twitters.map(twitter => twitter.toLowerCase()).includes(text.toLowerCase())
}

function addBadge(element) {
    element.classList.add("badged")
}

// turn twitter handles' font green
function badger() {

    // get elements whose inner text starts with "@"
    let xPathResults = document.evaluate("//*[text()[starts-with(.,'@')]]", document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);

    for (let i = 0; i < xPathResults.snapshotLength; ++i) {
        var element = xPathResults.snapshotItem(i)
        if (isMatch(element)) {
            addBadge(element);
        }
    }
}



var styleElement = document.createElement('style');
document.head.appendChild(styleElement);
var styleSheet = styleElement.sheet;
styleSheet.insertRule(".badged {display: block;}");
styleSheet.insertRule(".badged::after { bottom: 0; float: right; margin-left: 3px; content: \" \"; display: block; width: 20px; height: 20px; background-image: url(" + chrome.runtime.getURL("badge.svg") + "); background-size: 20px 20px; }");

badger();

// ensures badgers will be badgered
setInterval(function () {
    badger();
}, 100)


